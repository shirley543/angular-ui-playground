<div class="select-collection">
  <div class="select-container">
    <!-- Material select, with form control -->
    <mat-form-field>
      <mat-label>Select a City</mat-label>
      <mat-select [formControl]="selectedCity">
        @for (city of cities; track city) {
          <mat-option [value]="city.code">{{city.name}}</mat-option>
        }
      </mat-select>
    </mat-form-field>

    <!-- Material multi-select, with ngModel -->
    <mat-form-field>
      <mat-label>Select Cities</mat-label>
      <mat-select [(ngModel)]="selectedCities" multiple>
        @for (group of groupedCities; track group) {
          <mat-optgroup [label]="group.label"
                        [disabled]="false">
            @for (city of group.items; track city) {
              <mat-option [value]="city.value">{{city.label}}</mat-option>
            }
          </mat-optgroup>
        }
        <mat-select-trigger>
          {{selectedCities?.[0] || ''}}
          @if ((selectedCities?.length || 0) > 1) {
            <span class="example-additional-selection">
              (+{{(selectedCities?.length || 0) - 1}} {{selectedCities?.length === 2 ? 'other' : 'others'}})
            </span>
          }
        </mat-select-trigger>
      </mat-select>
    </mat-form-field>

  </div>

  <div class="select-container">
    <!-- PrimeNG select -->
    <p-select [options]="cities" [formControl]="selectedCity" optionLabel="name" optionValue="code" placeholder="Select a City" />
    
    <!-- PrimeNG multi-select, with ngModel -->
    <p-multiselect [options]="groupedCities" [group]="true" [(ngModel)]="selectedCities" placeholder="Select Cities" scrollHeight="250px" styleClass="w-full md:w-80">
      <ng-template let-group #group>
        <div class="flex items-center">
          <img src="https://primefaces.org/cdn/primeng/images/demo/flag/flag_placeholder.png" [class]="'mr-2 flag flag-' + group.value" style="width: 20px" />
          <span>{{ group.label }}</span>
        </div>
      </ng-template>
    </p-multiselect>
  </div>

  <div class="select-container">
    <!-- NgZorro select, with form control -->
    <nz-select
      nzPlaceHolder="Select a City"
      [formControl]="selectedCity"
    >
      @for (city of cities; track city) {
        <nz-option nzValue="{{city.code}}" nzLabel="{{city.name}}"></nz-option>
      }
    </nz-select>

    <!-- NgZorro multi-select, with ngModel -->
    <nz-select
      [nzMaxTagCount]="3"
      [nzMaxTagPlaceholder]="tagPlaceHolder"
      nzMode="multiple"
      nzPlaceHolder="Select Cities"
      [(ngModel)]="selectedCities"
    >
      @for (group of groupedCities; track group) {
        <nz-option-group nzLabel="{{group.label}}">
          @for (city of group.items; track city) {
            <nz-option nzValue="{{city.value}}" nzLabel="{{city.label}}"></nz-option>
          }
        </nz-option-group>
      }
    </nz-select>
    <ng-template #tagPlaceHolder let-selectedList>(+{{ selectedList.length }} others)</ng-template>
  </div>
</div>
